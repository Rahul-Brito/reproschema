# The schema

The core model of ReproSchema was initially derived from the [CEDAR Metadata Model](https://more.metadatacenter.org/tools-training/outreach/cedar-template-model).
To accommodate the needs of neuroimaging and other clinical and behavioral 
protocols and assessments the schema has evolved significantly. These changes 
include:

1. Alignment with [schema.org](https://schema.org) and [NIDM](https://nidm.nidash.org). 
We have used schema.org classes and properties where it maps on to the needs of 
the model and extended the model with NIDM elements to harmonize across ReproNim
projects.
1. Allowing for structued nested elements in a schema 
`Protocol > Activity > [Activity | Field > ResponseOption]`. This nested 
structure provides a flexible schema to represent nested activities, which are
common in biomedical and other domains.

        Protocol
        ├── Activity
        │   ├── Field
        │   │   └── ResponseOption
        │   └── Field
        │   │   └── ResponseOption
        │   ├── Activity
        │   │   ├── Field
        │   │   │   └── ResponseOption
        │   │   ...
        │   ...
        ├── Activity
        │   ...
        ...
        
1. Interaction with git/Github or another Web service to deliver a new Protocol, 
Activity or Field with a persistent URI, while tracking changes associated with
any of these elements. By making every Field represented through a persistent URI,
a data collection instrument can link the responses to the exact Field that was
used.
1. Addition of computable elements that are derived from the values entered by a
participant.
1. Allowing for user interface (UI) elements that allow interaction between the schema
and any implementation that allows collecting data using the schema. By providing 
some additional UI elements the provider can guide an implementor to allow for
more complex data collection behavior.

The [ReproSchema-UI](https://repronim.org/reproschema-ui) is a prototype implementation of an UI that leverages these 
different elements of the schema.

## Properties of ReproSchema objects

This section lists the core ReproSchema objects and their allowed properties.

<!-- AUTOGENERATED - DO NOT EDIT BELOW THIS LINE -->
<!-- This section is generated by the Python script editProperties.py.
The script uses a released version of the schema to generate the properties. To
use this script first call:
python scripts/makeRelease.py <version> 
python scripts/editProperties.py <version> 
-->

### Protocol
A representation of a study which comprises one or more assessments.

**URI:** [http://schema.repronim.org/Protocol](http://schema.repronim.org/Protocol)

|     Name      |                                                                                                                                                Description                                                                                                                                                |                                              URI                                               |
|---------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
| addProperties | An array of objects to describe the various properties added to assessments and fields.                                                                                                                                                                                                                   | [http://schema.repronim.org/addProperties](http://schema.repronim.org/addProperties)           |
| allow         | An array of items indicating properties allowed on an activity or protocol                                                                                                                                                                                                                                | [http://schema.repronim.org/allow](http://schema.repronim.org/allow)                           |
| compute       | An array of objects indicating computations in an activity or protocol and maps it to the corresponding Field item. scoring logic is a subset of all computations that could be performed and not all computations will be scoring. For example, one may want to do conversion from one unit to another.  | [http://schema.repronim.org/compute](http://schema.repronim.org/compute)                       |
| landingPage   | An element (by URL) to point to the protocol readme or landing page.                                                                                                                                                                                                                                      | [http://schema.repronim.org/landingPage](http://schema.repronim.org/landingPage)               |
| order         | An ordered list to describe the order in which the items of an assessment or protocol appear in the user interface.                                                                                                                                                                                       | [http://schema.repronim.org/order](http://schema.repronim.org/order)                           |
| preamble      | The preamble for an assessment                                                                                                                                                                                                                                                                            | [http://schema.repronim.org/preamble](http://schema.repronim.org/preamble)                     |
| shuffle       | An element (bool) to determine if the list of items is shuffled or in order.                                                                                                                                                                                                                              | [http://schema.repronim.org/shuffle](http://schema.repronim.org/shuffle)                       |
| description   | A description of the item.                                                                                                                                                                                                                                                                                | [http://schema.org/description](http://schema.org/description)                                 |
| image         | An image of the item. This can be a <a class="localLink" href="http://schema.org/URL">URL</a> or a fully described <a class="localLink" href="http://schema.org/ImageObject">ImageObject</a>.                                                                                                             | [http://schema.org/image](http://schema.org/image)                                             |
| schemaVersion | Indicates (by URL or string) a particular version of a schema used in some CreativeWork. For example, a document could declare a schemaVersion using an URL such as http://schema.org/version/2.0/ if precise indication of schema version was required by some application.                              | [http://schema.org/schemaVersion](http://schema.org/schemaVersion)                             |
| version       | The version of the CreativeWork embodied by a specified resource.                                                                                                                                                                                                                                         | [http://schema.org/version](http://schema.org/version)                                         |
| prefLabel     | The preferred label.                                                                                                                                                                                                                                                                                      | [http://www.w3.org/2004/02/skos/core#prefLabel](http://www.w3.org/2004/02/skos/core#prefLabel) |

### Activity
An assessment in a protocol.

**URI:** [http://schema.repronim.org/Activity](http://schema.repronim.org/Activity)

|     Name      |                                                                                                                                                Description                                                                                                                                                |                                              URI                                               |
|---------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
| addProperties | An array of objects to describe the various properties added to assessments and fields.                                                                                                                                                                                                                   | [http://schema.repronim.org/addProperties](http://schema.repronim.org/addProperties)           |
| allow         | An array of items indicating properties allowed on an activity or protocol                                                                                                                                                                                                                                | [http://schema.repronim.org/allow](http://schema.repronim.org/allow)                           |
| compute       | An array of objects indicating computations in an activity or protocol and maps it to the corresponding Field item. scoring logic is a subset of all computations that could be performed and not all computations will be scoring. For example, one may want to do conversion from one unit to another.  | [http://schema.repronim.org/compute](http://schema.repronim.org/compute)                       |
| inputType     | An element to describe the input type of a Field item.                                                                                                                                                                                                                                                    | [http://schema.repronim.org/inputType](http://schema.repronim.org/inputType)                   |
| order         | An ordered list to describe the order in which the items of an assessment or protocol appear in the user interface.                                                                                                                                                                                       | [http://schema.repronim.org/order](http://schema.repronim.org/order)                           |
| preamble      | The preamble for an assessment                                                                                                                                                                                                                                                                            | [http://schema.repronim.org/preamble](http://schema.repronim.org/preamble)                     |
| shuffle       | An element (bool) to determine if the list of items is shuffled or in order.                                                                                                                                                                                                                              | [http://schema.repronim.org/shuffle](http://schema.repronim.org/shuffle)                       |
| citation      | A citation or reference to another creative work, such as another publication, web page, scholarly article, etc.                                                                                                                                                                                          | [http://schema.org/citation](http://schema.org/citation)                                       |
| description   | A description of the item.                                                                                                                                                                                                                                                                                | [http://schema.org/description](http://schema.org/description)                                 |
| image         | An image of the item. This can be a <a class="localLink" href="http://schema.org/URL">URL</a> or a fully described <a class="localLink" href="http://schema.org/ImageObject">ImageObject</a>.                                                                                                             | [http://schema.org/image](http://schema.org/image)                                             |
| schemaVersion | Indicates (by URL or string) a particular version of a schema used in some CreativeWork. For example, a document could declare a schemaVersion using an URL such as http://schema.org/version/2.0/ if precise indication of schema version was required by some application.                              | [http://schema.org/schemaVersion](http://schema.org/schemaVersion)                             |
| version       | The version of the CreativeWork embodied by a specified resource.                                                                                                                                                                                                                                         | [http://schema.org/version](http://schema.org/version)                                         |
| prefLabel     | The preferred label.                                                                                                                                                                                                                                                                                      | [http://www.w3.org/2004/02/skos/core#prefLabel](http://www.w3.org/2004/02/skos/core#prefLabel) |

### Field
An item in an assessment.

**URI:** [http://schema.repronim.org/Field](http://schema.repronim.org/Field)

|        Name        |                                                                                                                                 Description                                                                                                                                  |                                              URI                                               |
|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
| additionalNotesObj | A set of objects to define notes in a field. For example, most Redcap and NDA data dictionaries have notes for each item which needs to be captured in reproschema.                                                                                                          | [http://schema.repronim.org/additionalNotesObj](http://schema.repronim.org/additionalNotesObj) |
| inputType          | An element to describe the input type of a Field item.                                                                                                                                                                                                                       | [http://schema.repronim.org/inputType](http://schema.repronim.org/inputType)                   |
| preamble           | The preamble for an assessment                                                                                                                                                                                                                                               | [http://schema.repronim.org/preamble](http://schema.repronim.org/preamble)                     |
| responseOptions    | An element (object or by URL)to describe the properties of response of the Field item.                                                                                                                                                                                       | [http://schema.repronim.org/responseOptions](http://schema.repronim.org/responseOptions)       |
| description        | A description of the item.                                                                                                                                                                                                                                                   | [http://schema.org/description](http://schema.org/description)                                 |
| image              | An image of the item. This can be a <a class="localLink" href="http://schema.org/URL">URL</a> or a fully described <a class="localLink" href="http://schema.org/ImageObject">ImageObject</a>.                                                                                | [http://schema.org/image](http://schema.org/image)                                             |
| question           | A sub property of object. A question.                                                                                                                                                                                                                                        | [http://schema.org/question](http://schema.org/question)                                       |
| readonlyValue      | Whether or not a property is mutable.  Default is false. Specifying this for a property that also has a value makes it act similar to a "hidden" input in an HTML form.                                                                                                      | [http://schema.org/readonlyValue](http://schema.org/readonlyValue)                             |
| schemaVersion      | Indicates (by URL or string) a particular version of a schema used in some CreativeWork. For example, a document could declare a schemaVersion using an URL such as http://schema.org/version/2.0/ if precise indication of schema version was required by some application. | [http://schema.org/schemaVersion](http://schema.org/schemaVersion)                             |
| version            | The version of the CreativeWork embodied by a specified resource.                                                                                                                                                                                                            | [http://schema.org/version](http://schema.org/version)                                         |
| prefLabel          | The preferred label.                                                                                                                                                                                                                                                         | [http://www.w3.org/2004/02/skos/core#prefLabel](http://www.w3.org/2004/02/skos/core#prefLabel) |

### AdditionalProperty
An object to describe the various properties added to assessments and fields.

**URI:** [http://schema.repronim.org/AdditionalProperty](http://schema.repronim.org/AdditionalProperty)

|     Name      |                                                  Description                                                  |                                              URI                                               |
|---------------|---------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
| isAbout       | An element to define (by URL) the corresponding nodes.                                                        | [http://schema.repronim.org/isAbout](http://schema.repronim.org/isAbout)                       |
| isVis         | An element to describe (by boolean or conditional statement) visibility conditions of items in an assessment. | [http://schema.repronim.org/isVis](http://schema.repronim.org/isVis)                           |
| variableName  | The name used to represent an item.                                                                           | [http://schema.repronim.org/variableName](http://schema.repronim.org/variableName)             |
| valueRequired | Whether the property must be filled in to complete the action.  Default is false.                             | [http://schema.org/valueRequired](http://schema.org/valueRequired)                             |
| prefLabel     | The preferred label.                                                                                          | [http://www.w3.org/2004/02/skos/core#prefLabel](http://www.w3.org/2004/02/skos/core#prefLabel) |

### ResponseOption
An element (object or by URL)to describe the properties of response of the Field item.

**URI:** [http://schema.repronim.org/ResponseOption](http://schema.repronim.org/ResponseOption)

|      Name      |                                                                                   Description                                                                                    |                                          URI                                           |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
| choices        | An array to list the available options for response of the Field item.                                                                                                           | [http://schema.repronim.org/choices](http://schema.repronim.org/choices)               |
| datumType      | Indicates what type of datum the response is (e.g. range,count,scalar etc.) for the Field item.                                                                                  | [http://schema.repronim.org/datumType](http://schema.repronim.org/datumType)           |
| multipleChoice | Indicates (by bool) if response for the Field item has one or more answer.                                                                                                       | [http://schema.repronim.org/multipleChoice](http://schema.repronim.org/multipleChoice) |
| valueType      | The type of the response of an item. For example, string, integer, etc.                                                                                                          | [http://schema.repronim.org/valueType](http://schema.repronim.org/valueType)           |
| maxValue       | The upper value of some characteristic or property.                                                                                                                              | [http://schema.org/maxValue](http://schema.org/maxValue)                               |
| minValue       | The lower value of some characteristic or property.                                                                                                                              | [http://schema.org/minValue](http://schema.org/minValue)                               |
| unitCode       | The unit of measurement given using the UN/CEFACT Common Code (3 characters) or a URL. Other codes than the UN/CEFACT Common Code may be used with a prefix followed by a colon. | [http://schema.org/unitCode](http://schema.org/unitCode)                               |

### Choice
An object to describe a response option.

**URI:** [http://schema.repronim.org/Choice](http://schema.repronim.org/Choice)

| Name  |                                                                                          Description                                                                                          |                                 URI                                  |
|-------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
| value | The value for each option in choices or in additionalNotesObj                                                                                                                                 | [http://schema.repronim.org/value](http://schema.repronim.org/value) |
| image | An image of the item. This can be a <a class="localLink" href="http://schema.org/URL">URL</a> or a fully described <a class="localLink" href="http://schema.org/ImageObject">ImageObject</a>. | [http://schema.org/image](http://schema.org/image)                   |
| name  | The name of the item.                                                                                                                                                                         | [http://schema.org/name](http://schema.org/name)                     |

### ComputeSpecification
An object to define computations in an activity or protocol.

**URI:** [http://schema.repronim.org/ComputeSpecification](http://schema.repronim.org/ComputeSpecification)

|     Name     |                           Description                            |                                        URI                                         |
|--------------|------------------------------------------------------------------|------------------------------------------------------------------------------------|
| jsExpression | A JavaScript expression to compute a score from other variables. | [http://schema.repronim.org/jsExpression](http://schema.repronim.org/jsExpression) |
| variableName | The name used to represent an item.                              | [http://schema.repronim.org/variableName](http://schema.repronim.org/variableName) |

### AdditionalNoteObj
A set of objects to define notes in a field. For example, most Redcap and NDA data dictionaries have notes for each item which needs to be captured in reproschema

**URI:** [http://schema.repronim.org/AdditionalNoteObj](http://schema.repronim.org/AdditionalNoteObj)

|  Name  |                                   Description                                    |                                  URI                                   |
|--------|----------------------------------------------------------------------------------|------------------------------------------------------------------------|
| column | An element to define the column name where the note was taken from.              | [http://schema.repronim.org/column](http://schema.repronim.org/column) |
| source | An element to define the source (eg. RedCap, NDA) where the note was taken from. | [http://schema.repronim.org/source](http://schema.repronim.org/source) |
| value  | The value for each option in choices or in additionalNotesObj                    | [http://schema.repronim.org/value](http://schema.repronim.org/value)   |
