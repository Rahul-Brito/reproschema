# The schema

The core model of ReproSchema was initially derived from the [CEDAR Metadata Model](https://more.metadatacenter.org/tools-training/outreach/cedar-template-model).
To accommodate the needs of neuroimaging and other clinical and behavioral 
protocols and assessments the schema has evolved significantly. These changes 
include:

1. Alignment with [schema.org](https://schema.org) and [NIDM](https://nidm.nidash.org). 
We have used schema.org classes and properties where it maps on to the needs of 
the model and extended the model with NIDM elements to harmonize across ReproNim
projects.
1. Allowing for structued nested elements in a schema 
`Protocol > Activity > [Activity | Field > ResponseOption]`. This nested 
structure provides a flexible schema to represent nested activities, which are
common in biomedical and other domains.

        ```json
        ├── Protocol
            ├── Activity
            │   ├── Field
            │   │   └── ResponseOption
            │   └── Field
            │   │   └── ResponseOption
            │   ├── Activity
            │   │   ├── Field
            │   │   │   └── ResponseOption
            │   │   ...
            │   ...
            ├── Activity
            │   ...
            ...
        ```
        
1. Interaction with git/Github or another Web service to deliver a new Protocol, 
Activity or Field with a persistent URI, while tracking changes associated with
any of these elements. By making every Field represented through a persistent URI,
a data collection instrument can link the responses to the exact Field that was
used.
1. Addition of computable elements that are derived from the values entered by a
participant.
1. Allowing for user interface (UI) elements that allow interaction between the schema
and any implementation that allows collecting data using the schema. By providing 
some additional UI elements the provider can guide an implementor to allow for
more complex data collection behavior.

The [ReproSchema-UI](https://repronim.org/reproschema-ui) is a prototype implementation of an UI that leverages these 
different elements of the schema.

<!-- AUTOGENERATED - DO NOT EDIT BELOW THIS LINE -->

# Properties of Protocol schema
|         Property         |                                                                                                                                 Description                                                                                                                                  |        Domain        |              Range               |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------|----------------------------------|
| skos:prefLabel           | The preferred name of the protocol.                                                                                                                                                                                                                                          | reproschema:Protocol | schema:Text                      |
| schema:description       | A description of the item.                                                                                                                                                                                                                                                   | reproschema:Protocol | schema:Text                      |
| schema:schemaVersion     | Indicates (by URL or string) a particular version of a schema used in some CreativeWork. For example, a document could declare a schemaVersion using an URL such as http://schema.org/version/2.0/ if precise indication of schema version was required by some application. | reproschema:Protocol | ['schema:Text', 'schema:URL']    |
| schema:version           | The version of the CreativeWork embodied by a specified resource.                                                                                                                                                                                                            | reproschema:Protocol | ['schema:Text', 'schema:Number'] |
| reproterms:order         | An array to describe the order in which items appear in the ui.                                                                                                                                                                                                              | reproschema:Protocol | schema:URL                       |
| reproterms:shuffle       | An element (bool) to determine if the list of items is random or in order.                                                                                                                                                                                                   | reproschema:Protocol | schema:boolean                   |
| reproterms:addProperties | An array of objects to describe the various properties added to assessments and fields.                                                                                                                                                                                      | reproschema:Protocol | reproschema:AddProperties        |
| reproterms:allow         | An array to list the properties allowed in a protocol, assessment or field.                                                                                                                                                                                                  | reproschema:Protocol | schema:Text                      |
| reproterms:landingPage   | An element (by URL) to link to the protocol introduction.                                                                                                                                                                                                                    | reproschema:Protocol | schema:URL                       |
| reproterms:scoringLogic  | An array of objects indicating score in an activity or protocol and the score Field item                                                                                                                                                                                     | reproschema:Protocol | reproschema:ScoringLogic         |

# Properties of Activity schema
|         Property         |                                                                                                                                 Description                                                                                                                                  |        Domain        |                 Range                  |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------|----------------------------------------|
| skos:prefLabel           | The preferred name of the assessment.                                                                                                                                                                                                                                        | reproschema:Activity | schema:Text                            |
| schema:description       | A description of the item.                                                                                                                                                                                                                                                   | reproschema:Activity | schema:Text                            |
| schema:schemaVersion     | Indicates (by URL or string) a particular version of a schema used in some CreativeWork. For example, a document could declare a schemaVersion using an URL such as http://schema.org/version/2.0/ if precise indication of schema version was required by some application. | reproschema:Activity | ['schema:Text', 'schema:URL']          |
| schema:version           | The version of the CreativeWork embodied by a specified resource.                                                                                                                                                                                                            | reproschema:Activity | ['schema:Text', 'schema:Number']       |
| schema:citation          | A citation or reference to another creative work, such as another publication, web page, scholarly article, etc.                                                                                                                                                             | reproschema:Activity | ['schema:Text', 'schema:CreativeWork'] |
| reproterms:preamble      | The preamble for the instrument.                                                                                                                                                                                                                                             | reproschema:Activity | schema:Text                            |
| reproterms:order         | An array to describe the order in which the Fields of an instrument appear in the ui. It represents a list of node ids of the items and not the variable names.                                                                                                              | reproschema:Activity | schema:URL                             |
| reproterms:shuffle       | An element (bool) to determine if the list of items is shuffled or in order.                                                                                                                                                                                                 | reproschema:Activity | schema:boolean                         |
| reproterms:addProperties | An array of objects to describe the various properties added to assessments and fields.                                                                                                                                                                                      | reproschema:Activity | reproschema:AddProperties              |
| reproterms:scoringLogic  | An array of objects indicating score in an activity or protocol and the score Field item                                                                                                                                                                                     | reproschema:Activity | reproschema:ScoringLogic               |

# Properties of Field schema
|         Property         |                                                                                                                                 Description                                                                                                                                  |        Domain        |                 Range                  |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------|----------------------------------------|
| skos:prefLabel           | The preferred name of the assessment.                                                                                                                                                                                                                                        | reproschema:Activity | schema:Text                            |
| schema:description       | A description of the item.                                                                                                                                                                                                                                                   | reproschema:Activity | schema:Text                            |
| schema:schemaVersion     | Indicates (by URL or string) a particular version of a schema used in some CreativeWork. For example, a document could declare a schemaVersion using an URL such as http://schema.org/version/2.0/ if precise indication of schema version was required by some application. | reproschema:Activity | ['schema:Text', 'schema:URL']          |
| schema:version           | The version of the CreativeWork embodied by a specified resource.                                                                                                                                                                                                            | reproschema:Activity | ['schema:Text', 'schema:Number']       |
| schema:citation          | A citation or reference to another creative work, such as another publication, web page, scholarly article, etc.                                                                                                                                                             | reproschema:Activity | ['schema:Text', 'schema:CreativeWork'] |
| reproterms:preamble      | The preamble for the instrument.                                                                                                                                                                                                                                             | reproschema:Activity | schema:Text                            |
| reproterms:order         | An array to describe the order in which the Fields of an instrument appear in the ui. It represents a list of node ids of the items and not the variable names.                                                                                                              | reproschema:Activity | schema:URL                             |
| reproterms:shuffle       | An element (bool) to determine if the list of items is shuffled or in order.                                                                                                                                                                                                 | reproschema:Activity | schema:boolean                         |
| reproterms:addProperties | An array of objects to describe the various properties added to assessments and fields.                                                                                                                                                                                      | reproschema:Activity | reproschema:AddProperties              |
| reproterms:scoringLogic  | An array of objects indicating score in an activity or protocol and the score Field item                                                                                                                                                                                     | reproschema:Activity | reproschema:ScoringLogic               |

